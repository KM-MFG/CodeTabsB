!function(t){window.csPLUGIN||(window.csPLUGIN={}),csPLUGIN.TIMER={render:function(){var e=this.o,i=this.va,r=this.is;if(!!i.$timer&&i.$timer.remove(),r.timer){var a=e.ns+e.timerName,s=a+"-"+i.timer,n="<div></div>",m=this.RENDER.searchDOM("."+a);m.length?i.$timer=m.addClass(s):(i.$timer=t(n,{"class":a+" "+s}),this.RENDER.into(e.markup.timerInto,i.$timer)),"bar"==i.timer?(i.$timerItem=t(n,{"class":a+"item"}),i.$timer.append(i.$timerItem),this.barSetup()):"arc"==i.timer?(i.$timerItem=t("<canvas></canvas>"),i.$timer.append(i.$timerItem),this.arcProp()):"number"==i.timer&&(i.$timerItem=t("<span></span>",{"class":a+"item","data-num":0,text:0}),i.$timer.append(i.$timerItem))}},barSetup:function(){var t=this.va,e={};if(e[t.cssTf]=this.M.tlx(-100,"%"),this.is.ts){var i={};i=this.M.ts(t.cssTf,0,"linear"),t.$timerItem.css(i).css(e)}else t.$timerItem.css(e)},arcSetup:function(){},numberSetup:function(){this.va.$timerItem.attr("data-num",0).text(0)},noneSetup:function(){},barUpdate:function(){var t=this,e=t.va,i=t.is,r=function(){var r={};r[e.cssTf]=t.M.tlx(-e.xTimer,"%"),i.ts?(e.$timerItem.hide().show(),e.$timerItem.css(e.cssD0).css(r)):e.$timerItem.css(r)},a=function(){var r={};if(r[e.cssTf]=t.M.tlx(0),i.ts){var a={};a[e.cssD]=e.tDelay+"ms",e.$timerItem.hide().show(),e.$timerItem.css(a),setTimeout(function(){e.$timerItem.css(r)},50)}else e.$timerItem.animate(r,{duration:e.tDelay,easing:"linear"})};r(),setTimeout(a,20)},arcUpdate:function(){var t=this.va,e=this.ti,i=Math.ceil(360*t.arc.speed/t.delay[this.cs.idCur]),r=function(){var r=t.tContext,a=t.arc,s=Math.ceil((a.radius-a.weight)/2);r.clearRect(-a.width/2,-a.height/2,a.width,a.height),r.beginPath(),r.arc(0,0,a.oRadius,0,360*a.pi,!1),r.lineWidth=a.oWeight,r.strokeStyle=a.oStroke,r.fillStyle=a.oFill,r.stroke(),r.fill(),r.beginPath(),r.arc(0,0,s+1,0,a.pi*Math.ceil(10*a.angCur)/10,!1),r.lineWidth=2*s+2,r.strokeStyle=a.fill,r.stroke(),r.beginPath(),r.arc(0,0,a.radius,0,a.pi*a.angCur,!1),r.lineWidth=a.weight,r.strokeStyle=a.stroke,r.stroke(),t.arc.angCur+=i,t.arc.angCur>370&&clearInterval(e.timer)};r(),clearInterval(e.timer),e.timer=setInterval(r,t.arc.speed)},numberUpdate:function(){var t=this,e=t.va,i=100,r=function(){e.tDelay-=i,e.xTimer0=e.xTimer,e.xTimer=100-e.tDelay/e.delay[t.cs.idCur]*100,e.xTimer=Math.round(e.xTimer),e.xTimer>100&&(e.xTimer=0),e.xTimer0!=e.xTimer&&e.$timerItem.attr("data-num",e.xTimer).text(e.xTimer)};clearInterval(t.ti.timer),t.ti.timer=setInterval(r,i)},noneUpdate:function(){},arcProp:function(){var e=this.va,i=this.o,r={angCur:e.arc&&e.arc.angCur?e.arc.angCur:0,pi:Math.PI/180,width:null==i.arc.width?e.$timer.width():i.arc.width,height:null==i.arc.height?e.$timer.height():i.arc.height,speed:~~(1e3/i.arc.fps)};e.arc=t.extend(i.arc,r),e.$timerItem.attr({width:e.arc.width,height:e.arc.height}),e.tContext=e.$timerItem[0].getContext("2d");var a=function(){var t=e.tContext;t.setTransform(1,0,0,1,0,0),t.translate(e.arc.width/2,e.arc.height/2),t.rotate(-e.arc.pi*(90-e.arc.rotate)),t.strokeStyle=e.arc.stroke,t.fillStyle=e.arc.fill,t.lineWidth=e.arc.weight};a()}}}(jQuery);